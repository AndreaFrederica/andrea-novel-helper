{
  "name": "andrea-novel-helper",
  "displayName": "Andrea 小说助手 (Andrea Novel Helper)",
  "description": "功能较完备的小说写作辅助：角色/词汇/敏感词库管理、异步高亮匹配、双重大纲与包管理、写作时间与字数统计、正则与补全、文件追踪等 (A full-featured assistant for novel writing: role/vocabulary/sensitive-word management, async highlight matching, dual outline & package management, writing time & word count stats, regex & completion, file tracking, etc.)",
  "version": "0.4.7",
  "engines": {
    "vscode": "^1.100.0"
  },
  "homepage": "https://blog.sirrus.cc",
  "publisher": "andreafrederica",
  "license": "MPL-2.0",
  "repository": {
    "type": "git",
    "url": "https://github.com/AndreaFrederica/andrea-novel-helper.git"
  },
  "icon": "images/icon.png",
  "categories": [
    "Other"
  ],
  "activationEvents": [
    "onLanguage:markdown",
    "onLanguage:plaintext",
    "onFileSystem:andrea-outline",
    "onStartupFinished"
  ],
  "main": "./out/extension.js",
  "contributes": {
    "localizations": [
      {
        "languageId": "en",
        "languageName": "English",
        "localizedLanguageName": "English",
        "translations": [
          {
            "id": "vscode",
            "path": "./l10n/bundle.l10n.json"
          }
        ]
      },
      {
        "languageId": "zh-cn",
        "languageName": "Chinese (Simplified)",
        "localizedLanguageName": "简体中文",
        "translations": [
          {
            "id": "vscode",
            "path": "./l10n/bundle.l10n.zh-cn.json"
          }
        ]
      }
    ],
    "customEditors": [
      {
        "viewType": "andrea.roleJson5Editor",
        "displayName": "角色 JSON5 编辑器",
        "selector": [
          {
            "filenamePattern": "**/*.json5"
          },
          {
            "filenamePattern": "**/*.ojson5"
          }
        ],
        "priority": "default"
      },
      {
        "viewType": "andrea.relationshipJson5Editor",
        "displayName": "角色关系 JSON5 编辑器",
        "selector": [
          {
            "filenamePattern": "**/*relationship*.json5"
          },
          {
            "filenamePattern": "**/*.rjson5"
          }
        ],
        "priority": "default"
      }
    ],
    "configurationDefaults": {
      "[markdown]": {
        "editor.quickSuggestions": {
          "other": true,
          "comments": true,
          "strings": true
        },
        "editor.suggestOnTriggerCharacters": true,
        "editor.wordBasedSuggestions": "allDocuments",
        "editor.quickSuggestionsDelay": 0
      },
      "[plaintext]": {
        "editor.quickSuggestions": {
          "other": true,
          "comments": true,
          "strings": true
        },
        "editor.suggestOnTriggerCharacters": true,
        "editor.wordBasedSuggestions": "allDocuments",
        "editor.quickSuggestionsDelay": 0
      }
    },
    "languages": [
      {
        "id": "wcignore",
        "aliases": [
          "WordCount Ignore",
          "wcignore"
        ],
        "extensions": [
          ".wcignore"
        ],
        "configuration": "./language-configuration.json"
      },
      {
        "id": "gitignore",
        "aliases": [
          "Git Ignore",
          "gitignore"
        ],
        "filenames": [
          ".gitignore"
        ],
        "configuration": "./language-configuration.json"
      }
    ],
    "grammars": [
      {
        "language": "wcignore",
        "scopeName": "source.wcignore",
        "path": "./syntaxes/wcignore.tmLanguage.json"
      },
      {
        "language": "gitignore",
        "scopeName": "source.gitignore.andrea",
        "path": "./syntaxes/gitignore.tmLanguage.json"
      }
    ],
    "viewsContainers": {
      "activitybar": [
        {
          "id": "AndreaNovelHelperSidebar",
          "title": "%sidebar.anh.title%",
          "icon": "images/anh_logo_dark.svg"
        },
        {
          "id": "AndreaCommentsSidebar",
          "title": "%sidebar.comments.title%",
          "icon": "$(comment-discussion)"
        },
        {
          "id": "AndreaWebDAVSidebar",
          "title": "%sidebar.webdav.title%",
          "icon": "$(cloud)"
        }
      ]
    },
    "textDocumentContentProviders": [
      {
        "scheme": "andrea-outline",
        "language": "markdown"
      }
    ],
    "commands": [
      {
        "command": "AndreaNovelHelper.toggleRoleManagerOpenForFile",
        "title": "切换：使用角色卡管理器打开json5"
      },
      {
        "command": "andrea.roleCardManager.open",
        "title": "打开角色卡管理器测试页面"
      },
      {
        "command": "andrea.ensureEnterOverrides",
        "title": "%command.andrea.ensureEnterOverrides.title%",
        "category": "Andrea Novel Helper"
      },
      {
        "command": "andrea.toggleSmartExit",
        "title": "%command.andrea.toggleSmartExit.title%"
      },
      {
        "command": "andrea.smartEnter",
        "title": "%command.andrea.smartEnter.title%"
      },
      {
        "command": "andrea.formatDocument",
        "title": "%command.andrea.formatDocument.title%"
      },
      {
        "command": "andrea.quickSettings",
        "title": "%command.andrea.quickSettings.title%"
      },
      {
        "command": "andrea.configureMilestones",
        "title": "%command.andrea.configureMilestones.title%"
      },
      {
        "command": "andrea.toggleIndentFirst",
        "title": "%command.andrea.toggleIndentFirst.title%"
      },
      {
        "command": "andrea.toggleTrimTrailing",
        "title": "%command.andrea.toggleTrimTrailing.title%"
      },
      {
        "command": "andrea.changeBlankLines",
        "title": "%command.andrea.changeBlankLines.title%"
      },
      {
        "command": "andrea.changeIndentSize",
        "title": "%command.andrea.changeIndentSize.title%"
      },
      {
        "command": "andrea.manageEditorFontFamily",
        "title": "%command.andrea.manageEditorFontFamily.title%"
      },
      {
        "command": "andrea.toggleAutoPairs",
        "title": "%command.andrea.toggleAutoPairs.title%"
      },
      {
        "command": "andrea.toggleSmartEnter",
        "title": "%command.andrea.toggleSmartEnter.title%"
      },
      {
        "command": "myPreview.open",
        "title": "%command.myPreview.open.title%",
        "icon": {
          "light": "images/preview_light.svg",
          "dark": "images/preview_dark.svg"
        }
      },
      {
        "command": "myPreview.copyPlainText",
        "title": "%command.myPreview.copyPlainText.title%"
      },
      {
        "command": "andrea.comments.open",
        "title": "%command.comments.open.title%",
        "icon": {
          "light": "images/comments_light.svg",
          "dark": "images/comments_dark.svg"
        }
      },
      {
        "command": "andrea.comments.add",
        "title": "%command.comments.add.title%"
      },
      {
        "command": "andrea.comments.resolve",
        "title": "%command.comments.resolve.title%"
      },
      {
        "command": "andrea.comments.reopen",
        "title": "%command.comments.reopen.title%"
      },
      {
        "command": "andrea.commentsExplorer.toggleStatus",
        "title": "%command.commentsExplorer.toggleStatus.title%",
        "icon": {
          "light": "$(check)",
          "dark": "$(check)"
        }
      },
      {
        "command": "andrea.commentsExplorer.rebindFileToDocument",
        "title": "%command.commentsExplorer.rebindFileToDocument.title%",
        "icon": {
          "light": "$(file-symlink-file)",
          "dark": "$(file-symlink-file)"
        }
      },
      {
        "command": "andrea.commentsExplorer.openComment",
        "title": "%command.commentsExplorer.openComment.title%",
        "icon": {
          "light": "$(go-to-file)",
          "dark": "$(go-to-file)"
        }
      },
      {
        "command": "andrea.commentsExplorer.refresh",
        "title": "%command.commentsExplorer.refresh.title%",
        "icon": {
          "light": "$(refresh)",
          "dark": "$(refresh)"
        }
      },
      {
        "command": "andrea.commentsExplorer.search",
        "title": "%command.commentsExplorer.search.title%",
        "icon": {
          "light": "$(search)",
          "dark": "$(search)"
        }
      },
      {
        "command": "andrea.commentsExplorer.filterByStatus",
        "title": "%command.commentsExplorer.filterByStatus.title%",
        "icon": {
          "light": "$(filter)",
          "dark": "$(filter)"
        }
      },
      {
        "command": "andrea.commentsExplorer.clearFilter",
        "title": "%command.commentsExplorer.clearFilter.title%",
        "icon": {
          "light": "$(clear-all)",
          "dark": "$(clear-all)"
        }
      },
      {
        "command": "andrea.commentsExplorer.exportComments",
        "title": "%command.commentsExplorer.exportComments.title%",
        "icon": {
          "light": "$(export)",
          "dark": "$(export)"
        }
      },
      {
        "command": "andrea.commentsExplorer.exportToMarkdown",
        "title": "%command.commentsExplorer.exportToMarkdown.title%",
        "icon": {
          "light": "$(markdown)",
          "dark": "$(markdown)"
        }
      },
      {
        "command": "andrea.commentsExplorer.exportToJson",
        "title": "%command.commentsExplorer.exportToJson.title%",
        "icon": {
          "light": "$(json)",
          "dark": "$(json)"
        }
      },
      {
        "command": "WordCount.exportTxt",
        "title": "%command.wordCount.exportTxt.title%"
      },
      {
        "command": "WordCount.copyPlainText",
        "title": "%command.wordCount.copyPlainText.title%"
      },
      {
        "command": "AndreaNovelHelper.addRoleFromSelection",
        "title": "%command.addRoleFromSelection.title%"
      },
      {
        "command": "AndreaNovelHelper.refreshRoles",
        "title": "%command.refreshRoles.title%"
      },
      {
        "command": "andrea.configureAllRoles",
        "title": "配置：全部角色显示"
      },
      {
        "command": "andrea.configureDocRoles",
        "title": "配置：当前文章角色显示"
      },
      {
        "command": "AndreaNovelHelper.addSensitiveWord",
        "title": "%command.addSensitiveWord.title%"
      },
      {
        "command": "AndreaNovelHelper.refreshSensitiveWords",
        "title": "%command.refreshSensitiveWords.title%"
      },
      {
        "command": "AndreaNovelHelper.addVocabulary",
        "title": "%command.addVocabulary.title%"
      },
      {
        "command": "AndreaNovelHelper.refreshVocabulary",
        "title": "%command.refreshVocabulary.title%"
      },
      {
        "command": "AndreaNovelHelper.openDoubleOutline",
        "title": "%command.openDoubleOutline.title%",
        "icon": {
          "light": "images/checklist_light.svg",
          "dark": "images/checklist_dark.svg"
        }
      },
      {
        "command": "AndreaNovelHelper.refreshOutlineDir",
        "title": "%command.refreshOutlineDir.title%"
      },
      {
        "command": "AndreaNovelHelper.refreshOutlineFile",
        "title": "%command.refreshOutlineFile.title%"
      },
      {
        "command": "AndreaNovelHelper.openFile",
        "title": "%command.openFile.title%"
      },
      {
        "command": "AndreaNovelHelper.deleteNode",
        "title": "%command.deleteNode.title%"
      },
      {
        "command": "AndreaNovelHelper.createCharacterGallery",
        "title": "%command.createCharacterGallery.title%"
      },
      {
        "command": "AndreaNovelHelper.createSensitiveWords",
        "title": "%command.createSensitiveWords.title%"
      },
      {
        "command": "AndreaNovelHelper.createVocabulary",
        "title": "%command.createVocabulary.title%"
      },
      {
        "command": "AndreaNovelHelper.createRoleFile",
        "title": "%command.createRoleFile.title%"
      },
      {
        "command": "AndreaNovelHelper.createRelationshipFile",
        "title": "%command.createRelationshipFile.title%"
      },
      {
        "command": "AndreaNovelHelper.createSubPackage",
        "title": "%command.createSubPackage.title%"
      },
      {
        "command": "AndreaNovelHelper.renamePackage",
        "title": "%command.renamePackage.title%"
      },
      {
        "command": "AndreaNovelHelper.createRegexPatterns",
        "title": "%command.createRegexPatterns.title%"
      },
      {
        "command": "AndreaNovelHelper.openWith",
        "title": "%command.openWith.title%"
      },
      {
        "command": "AndreaNovelHelper.revealInExplorer",
        "title": "%command.revealInExplorer.title%"
      },
      {
        "command": "AndreaNovelHelper.toggleMarkdownToolbar",
        "title": "%command.toggleMarkdownToolbar.title%"
      },
      {
        "command": "AndreaNovelHelper.showMarkdownFormatMenu",
        "title": "%command.showMarkdownFormatMenu.title%"
      },
      {
        "command": "AndreaNovelHelper.applyMarkdownFormat",
        "title": "%command.applyMarkdownFormat.title%"
      },
      {
        "command": "AndreaNovelHelper.showFileTrackingStats",
        "title": "%command.showFileTrackingStats.title%"
      },
      {
        "command": "AndreaNovelHelper.cleanupMissingFiles",
        "title": "%command.cleanupMissingFiles.title%"
      },
      {
        "command": "AndreaNovelHelper.exportTrackingData",
        "title": "%command.exportTrackingData.title%"
      },
      {
        "command": "AndreaNovelHelper.gcFileTracking",
        "title": "%command.gcFileTracking.title%"
      },
      {
        "command": "AndreaNovelHelper.wordCount.createNewFile",
        "title": "%command.wordCount.createNewFile.title%"
      },
      {
        "command": "AndreaNovelHelper.wordCount.createNewFolder",
        "title": "%command.wordCount.createNewFolder.title%"
      },
      {
        "command": "AndreaNovelHelper.wordCount.insertFileAbove",
        "title": "%command.wordCount.insertFileAbove.title%"
      },
      {
        "command": "AndreaNovelHelper.wordCount.insertFileBelow",
        "title": "%command.wordCount.insertFileBelow.title%"
      },
      {
        "command": "AndreaNovelHelper.wordCount.insertFolderAbove",
        "title": "%command.wordCount.insertFolderAbove.title%"
      },
      {
        "command": "AndreaNovelHelper.wordCount.insertFolderBelow",
        "title": "%command.wordCount.insertFolderBelow.title%"
      },
      {
        "command": "AndreaNovelHelper.wordCount.open",
        "title": "%command.wordCount.open.title%"
      },
      {
        "command": "AndreaNovelHelper.wordCount.revealInOS",
        "title": "%command.wordCount.revealInOS.title%"
      },
      {
        "command": "AndreaNovelHelper.wordCount.rename",
        "title": "%command.wordCount.rename.title%"
      },
      {
        "command": "AndreaNovelHelper.wordCount.delete",
        "title": "%command.wordCount.delete.title%"
      },
      {
        "command": "AndreaNovelHelper.wordCount.toggleManualOrdering",
        "title": "%command.wordCount.toggleManualOrdering.title%"
      },
      {
        "command": "AndreaNovelHelper.wordCount.generateIndexFromName",
        "title": "%command.wordCount.generateIndexFromName.title%"
      },
      {
        "command": "AndreaNovelHelper.wordCount.clearIndex",
        "title": "%command.wordCount.clearIndex.title%"
      },
      {
        "command": "AndreaNovelHelper.wordCount.setIndexManual",
        "title": "%command.wordCount.setIndexManual.title%"
      },
      {
        "command": "AndreaNovelHelper.wordCount.bulkGenerateIndices",
        "title": "%command.wordCount.bulkGenerateIndices.title%"
      },
      {
        "command": "AndreaNovelHelper.wordCount.forceRecountAll",
        "title": "%command.wordCount.forceRecountAll.title%"
      },
      {
        "command": "AndreaNovelHelper.wordCount.forceRecountHere",
        "title": "%command.wordCount.forceRecountHere.title%"
      },
      {
        "command": "AndreaNovelHelper.wordCount.copy",
        "title": "%command.wordCount.copy.title%"
      },
      {
        "command": "AndreaNovelHelper.wordCount.cut",
        "title": "%command.wordCount.cut.title%"
      },
      {
        "command": "AndreaNovelHelper.wordCount.paste",
        "title": "%command.wordCount.paste.title%"
      },
      {
        "command": "AndreaNovelHelper.package.copy",
        "title": "%command.package.copy.title%"
      },
      {
        "command": "AndreaNovelHelper.package.cut",
        "title": "%command.package.cut.title%"
      },
      {
        "command": "AndreaNovelHelper.package.paste",
        "title": "%command.package.paste.title%"
      },
      {
        "command": "AndreaNovelHelper.setupGitIdentity",
        "title": "%command.setupGitIdentity.title%"
      },
      {
        "command": "AndreaNovelHelper.openSetupWizard",
        "title": "%command.openSetupWizard.title%"
      },
      {
        "command": "AndreaNovelHelper.wizard.checkGit",
        "title": "%command.wizard.checkGit.title%"
      },
      {
        "command": "AndreaNovelHelper.wizard.openGitDownload",
        "title": "%command.wizard.openGitDownload.title%"
      },
      {
        "command": "AndreaNovelHelper.wizard.checkGitUser",
        "title": "%command.wizard.checkGitUser.title%"
      },
      {
        "command": "AndreaNovelHelper.wizard.configureGitUser",
        "title": "%command.wizard.configureGitUser.title%"
      },
      {
        "command": "AndreaNovelHelper.testGitDownloadLink",
        "title": "%command.testGitDownloadLink.title%"
      },
      {
        "command": "AndreaNovelHelper.simulateNoGit",
        "title": "%command.simulateNoGit.title%"
      },
      {
        "command": "AndreaNovelHelper.projectInitWizard",
        "title": "%command.projectInitWizard.title%"
      },
      {
        "command": "AndreaNovelHelper.disableWorkspace",
        "title": "%command.disableWorkspace.title%"
      },
      {
        "command": "AndreaNovelHelper.enableWorkspace",
        "title": "%command.enableWorkspace.title%"
      },
      {
        "command": "andrea.typo.scanDocument",
        "title": "扫描错别字（未扫描段落）",
        "category": "Andrea Novel Helper"
      },
      {
        "command": "andrea.typo.rescanDocument",
        "title": "重新扫描错别字（强制全量）",
        "category": "Andrea Novel Helper"
      },
      {
        "command": "andrea.typo.rescanCurrentFile",
        "title": "重新扫描当前文件错别字",
        "category": "Andrea Novel Helper"
      },
      {
        "command": "andrea.typo.stopAllRequests",
        "title": "强制停止所有错别字扫描请求",
        "category": "Andrea Novel Helper"
      },
      {
        "command": "andrea.webdav.manageAccounts",
        "title": "%command.webdav.manageAccounts.title%"
      },
      {
        "command": "andrea.webdav.syncNow",
        "title": "%command.webdav.syncNow.title%"
      },
      {
        "command": "andrea.webdav.openPanel",
        "title": "%command.webdav.openPanel.title%"
      },
      {
        "command": "andrea.webdav.refreshFiles",
        "title": "%command.webdav.refreshFiles.title%"
      },
      {
        "command": "andrea.webdav.openFile",
        "title": "%command.webdav.openFile.title%"
      },
      {
        "command": "andrea.webdav.uploadFile",
        "title": "%command.webdav.uploadFile.title%"
      },
      {
        "command": "andrea.webdav.deleteFile",
        "title": "%command.webdav.deleteFile.title%"
      },
      {
        "command": "andrea.webdav.createFolder",
        "title": "%command.webdav.createFolder.title%"
      },
      {
        "command": "andrea.webdav.renameFile",
        "title": "%command.webdav.renameFile.title%"
      },
      {
        "command": "andrea.webdav.copyFile",
        "title": "%command.webdav.copyFile.title%"
      },
      {
        "command": "AndreaNovelHelper.database.switchBackend",
        "title": "切换数据库后端",
        "category": "Andrea Novel Helper"
      },
      {
        "command": "AndreaNovelHelper.database.migrate",
        "title": "运行数据库迁移",
        "category": "Andrea Novel Helper"
      },
      {
        "command": "AndreaNovelHelper.database.showStatus",
        "title": "查看数据库状态",
        "category": "Andrea Novel Helper"
      },
      {
        "command": "AndreaNovelHelper.database.healthCheck",
        "title": "数据库健康检查",
        "category": "Andrea Novel Helper"
      },
      {
        "command": "AndreaNovelHelper.database.optimize",
        "title": "优化数据库",
        "category": "Andrea Novel Helper"
      },
      {
        "command": "AndreaNovelHelper.database.compare",
        "title": "比较数据库后端数据",
        "category": "Andrea Novel Helper"
      }
    ],
    "walkthroughs": [
      {
        "id": "andreaNovelHelper.setup",
        "title": "%walkthrough.andrea.setup.title%",
        "description": "%walkthrough.andrea.setup.description%",
        "steps": [
          {
            "id": "anh.step.open",
            "title": "%walkthrough.anh.step.open.title%",
            "description": "%walkthrough.anh.step.open.description%",
            "media": {
              "markdown": "media/walkthrough/step0_intro.md"
            },
            "completionEvents": [
              "onCommand:AndreaNovelHelper.openSetupWizard"
            ]
          },
          {
            "id": "anh.step.checkGit",
            "title": "%walkthrough.anh.step.checkGit.title%",
            "description": "%walkthrough.anh.step.checkGit.description%",
            "media": {
              "markdown": "media/walkthrough/step1_checkGit.md"
            },
            "completionEvents": [
              "onCommand:AndreaNovelHelper.wizard.checkGit"
            ]
          },
          {
            "id": "anh.step.installGit",
            "title": "%walkthrough.anh.step.installGit.title%",
            "description": "%walkthrough.anh.step.installGit.description%",
            "media": {
              "markdown": "media/walkthrough/step2_installGit.md"
            },
            "completionEvents": [
              "onCommand:AndreaNovelHelper.wizard.openGitDownload"
            ]
          },
          {
            "id": "anh.step.checkUser",
            "title": "%walkthrough.anh.step.checkUser.title%",
            "description": "%walkthrough.anh.step.checkUser.description%",
            "media": {
              "markdown": "media/walkthrough/step3_checkUser.md"
            },
            "completionEvents": [
              "onCommand:AndreaNovelHelper.wizard.checkGitUser"
            ]
          },
          {
            "id": "anh.step.configureUser",
            "title": "%walkthrough.anh.step.configureUser.title%",
            "description": "%walkthrough.anh.step.configureUser.description%",
            "media": {
              "markdown": "media/walkthrough/step4_configUser.md"
            },
            "completionEvents": [
              "onCommand:AndreaNovelHelper.wizard.configureGitUser"
            ]
          },
          {
            "id": "anh.step.recheck",
            "title": "%walkthrough.anh.step.recheck.title%",
            "description": "%walkthrough.anh.step.recheck.description%",
            "media": {
              "markdown": "media/walkthrough/step5_recheck.md"
            },
            "completionEvents": [
              "onCommand:AndreaNovelHelper.wizard.checkGitUser"
            ]
          }
        ]
      }
    ],
    "menus": {
      "explorer/context": [
        {
          "command": "AndreaNovelHelper.toggleRoleManagerOpenForFile",
          "when": "resourceExtname == .json5",
          "group": "navigation"
        }
      ],
      "view/title": [
        {
          "command": "andrea.configureDocRoles",
          "when": "view == docRolesView || view == docRolesExplorerView",
          "group": "navigation@100"
        },
        {
          "command": "andrea.configureAllRoles",
          "when": "view == roleHierarchyView",
          "group": "navigation@100"
        }
      ],
      "view/item/context": [
        {
          "when": "view == packageManagerView && (viewItem == newFile || viewItem == package)",
          "command": "AndreaNovelHelper.createCharacterGallery",
          "group": "0_create@1"
        },
        {
          "when": "view == packageManagerView && (viewItem == newFile || viewItem == package)",
          "command": "AndreaNovelHelper.createSensitiveWords",
          "group": "0_create@2"
        },
        {
          "when": "view == packageManagerView && (viewItem == newFile || viewItem == package)",
          "command": "AndreaNovelHelper.createVocabulary",
          "group": "0_create@3"
        },
        {
          "when": "view == packageManagerView && (viewItem == newFile || viewItem == package)",
          "command": "AndreaNovelHelper.createRoleFile",
          "group": "0_create@4"
        },
        {
          "when": "view == packageManagerView && (viewItem == newFile || viewItem == package)",
          "command": "AndreaNovelHelper.createRelationshipFile",
          "group": "0_create@5"
        },
        {
          "when": "view == packageManagerView && (viewItem == newFile || viewItem == package)",
          "command": "AndreaNovelHelper.createRegexPatterns",
          "group": "0_create@6"
        },
        {
          "when": "view == packageManagerView && (viewItem == newFile || viewItem == package)",
          "command": "AndreaNovelHelper.createSubPackage",
          "group": "1_package@1"
        },
        {
          "when": "view == packageManagerView && (viewItem == package || viewItem == resourceFile || viewItem == generalResourceFile)",
          "command": "AndreaNovelHelper.deleteNode",
          "group": "2_deletion"
        },
        {
          "when": "view == packageManagerView && (viewItem == package || viewItem == resourceFile || viewItem == resourceFileError || viewItem == generalResourceFile)",
          "command": "AndreaNovelHelper.openFile",
          "group": "3_open"
        },
        {
          "when": "view == packageManagerView && (viewItem == resourceFile || viewItem == resourceFileError || viewItem == generalResourceFile)",
          "command": "AndreaNovelHelper.openWith",
          "group": "3_open"
        },
        {
          "when": "view == packageManagerView && (viewItem == package || viewItem == resourceFile || viewItem == resourceFileError || viewItem == generalResourceFile)",
          "command": "AndreaNovelHelper.revealInExplorer",
          "group": "3_open"
        },
        {
          "when": "view == packageManagerView && (viewItem == package || viewItem == resourceFile || viewItem == resourceFileError || viewItem == generalResourceFile)",
          "command": "AndreaNovelHelper.renamePackage",
          "group": "1_package@2"
        },
        {
          "when": "view == wordCountExplorer && viewItem == wordCountFolder",
          "command": "AndreaNovelHelper.wordCount.insertFileAbove",
          "group": "1_modification@1"
        },
        {
          "when": "view == wordCountExplorer && viewItem == wordCountFolder",
          "command": "AndreaNovelHelper.wordCount.insertFolderAbove",
          "group": "1_modification@2"
        },
        {
          "when": "view == wordCountExplorer && viewItem == wordCountFolder",
          "command": "AndreaNovelHelper.wordCount.insertFileBelow",
          "group": "1_modification@3"
        },
        {
          "when": "view == wordCountExplorer && viewItem == wordCountFolder",
          "command": "AndreaNovelHelper.wordCount.insertFolderBelow",
          "group": "1_modification@4"
        },
        {
          "when": "view == wordCountExplorer && (viewItem == wordCountFolder || viewItem == wordCountFile)",
          "command": "AndreaNovelHelper.wordCount.open",
          "group": "3_open@1"
        },
        {
          "when": "view == wordCountExplorer && (viewItem == wordCountFolder || viewItem == wordCountFile)",
          "command": "AndreaNovelHelper.openWith",
          "group": "3_open@2"
        },
        {
          "when": "view == wordCountExplorer && (viewItem == wordCountFolder || viewItem == wordCountFile)",
          "command": "AndreaNovelHelper.wordCount.revealInOS",
          "group": "3_open@3"
        },
        {
          "when": "view == wordCountExplorer && (viewItem == wordCountFolder || viewItem == wordCountFile)",
          "command": "AndreaNovelHelper.wordCount.rename",
          "group": "2_modification@1"
        },
        {
          "when": "view == wordCountExplorer && (viewItem == wordCountFolder || viewItem == wordCountFile)",
          "command": "AndreaNovelHelper.wordCount.delete",
          "group": "2_deletion@9"
        },
        {
          "when": "view == wordCountExplorer && (viewItem == wordCountFolder)",
          "command": "AndreaNovelHelper.wordCount.createNewFile",
          "group": "0_create@1"
        },
        {
          "when": "view == wordCountExplorer && (viewItem == wordCountFolder)",
          "command": "AndreaNovelHelper.wordCount.createNewFolder",
          "group": "0_create@2"
        },
        {
          "when": "view == wordCountExplorer && viewItem == wordCountFolder",
          "command": "AndreaNovelHelper.wordCount.toggleManualOrdering",
          "group": "4_order@1"
        },
        {
          "when": "view == wordCountExplorer && (viewItem == wordCountFolder || viewItem == wordCountFile)",
          "command": "AndreaNovelHelper.wordCount.generateIndexFromName",
          "group": "4_order@2"
        },
        {
          "when": "view == wordCountExplorer && (viewItem == wordCountFolder || viewItem == wordCountFile)",
          "command": "AndreaNovelHelper.wordCount.clearIndex",
          "group": "4_order@3"
        },
        {
          "when": "view == wordCountExplorer && (viewItem == wordCountFolder || viewItem == wordCountFile)",
          "command": "AndreaNovelHelper.wordCount.setIndexManual",
          "group": "4_order@4"
        },
        {
          "when": "view == wordCountExplorer && viewItem == wordCountFolder",
          "command": "AndreaNovelHelper.wordCount.bulkGenerateIndices",
          "group": "4_order@5"
        },
        {
          "when": "view == wordCountExplorer && (viewItem == wordCountFolder || viewItem == wordCountFile)",
          "command": "AndreaNovelHelper.wordCount.forceRecountHere",
          "group": "9_force@1"
        },
        {
          "when": "view == wordCountExplorer",
          "command": "AndreaNovelHelper.wordCount.forceRecountAll",
          "group": "9_force@2"
        },
        {
          "when": "view == wordCountExplorer && (viewItem == wordCountFolder || viewItem == wordCountFile)",
          "command": "AndreaNovelHelper.wordCount.copy",
          "group": "5_clip@1"
        },
        {
          "when": "view == wordCountExplorer && (viewItem == wordCountFolder || viewItem == wordCountFile)",
          "command": "AndreaNovelHelper.wordCount.cut",
          "group": "5_clip@2"
        },
        {
          "when": "view == wordCountExplorer && viewItem == wordCountFile",
          "command": "WordCount.copyPlainText",
          "group": "5_clip@4"
        },
        {
          "when": "view == wordCountExplorer && viewItem == wordCountFile",
          "command": "WordCount.exportTxt",
          "group": "5_clip@5"
        },
        {
          "when": "view == wordCountExplorer && viewItem == wordCountFolder",
          "command": "AndreaNovelHelper.wordCount.paste",
          "group": "5_clip@3"
        },
        {
          "command": "AndreaNovelHelper.toggleRoleManagerOpenForFile",
          "when": "view == packageManagerView && ( viewItem == resourceFile || viewItem == generalResourceFile || viewItem == resourceFileError)",
          "group": "navigation"
        },
        {
          "when": "view == packageManagerView && (viewItem == package || viewItem == resourceFile || viewItem == generalResourceFile || viewItem == resourceFileError)",
          "command": "AndreaNovelHelper.package.copy",
          "group": "6_clip@1"
        },
        {
          "when": "view == packageManagerView && (viewItem == package || viewItem == resourceFile || viewItem == generalResourceFile || viewItem == resourceFileError)",
          "command": "AndreaNovelHelper.package.cut",
          "group": "6_clip@2"
        },
        {
          "when": "view == packageManagerView && viewItem == package",
          "command": "AndreaNovelHelper.package.paste",
          "group": "6_clip@3"
        },
        {
          "command": "andrea.webdav.openFile",
          "when": "view == andrea.webdavFiles && viewItem == webdavFile",
          "group": "navigation@1"
        },
        {
          "command": "andrea.webdav.renameFile",
          "when": "view == andrea.webdavFiles && (viewItem == webdavFile || viewItem == webdavFolder)",
          "group": "2_workspace@1"
        },
        {
          "command": "andrea.webdav.copyFile",
          "when": "view == andrea.webdavFiles && (viewItem == webdavFile || viewItem == webdavFolder)",
          "group": "2_workspace@2"
        },
        {
          "command": "andrea.webdav.deleteFile",
          "when": "view == andrea.webdavFiles && (viewItem == webdavFile || viewItem == webdavFolder)",
          "group": "2_workspace@3"
        },
        {
          "command": "andrea.webdav.createFolder",
          "when": "view == andrea.webdavFiles && viewItem == webdavFolder",
          "group": "3_new@1"
        },
        {
          "command": "andrea.webdav.uploadFile",
          "when": "view == andrea.webdavFiles && viewItem == webdavFolder",
          "group": "3_new@2"
        },
        {
          "command": "andrea.commentsExplorer.openComment",
          "when": "view == andrea.commentsExplorer && (viewItem == commentThread || viewItem == commentMessage)",
          "group": "navigation@1"
        },
        {
          "command": "andrea.commentsExplorer.toggleStatus",
          "when": "view == andrea.commentsExplorer && viewItem == commentThread",
          "group": "1_modification@1"
        },
        {
          "command": "andrea.commentsExplorer.rebindFileToDocument",
          "when": "view == andrea.commentsExplorer && viewItem == commentFile",
          "group": "1_modification@1"
        },
        {
          "command": "andrea.commentsExplorer.refresh",
          "when": "view == andrea.commentsExplorer",
          "group": "navigation@2"
        },
        {
          "command": "andrea.commentsExplorer.search",
          "when": "view == andrea.commentsExplorer",
          "group": "navigation@3"
        },
        {
          "command": "andrea.commentsExplorer.filterByStatus",
          "when": "view == andrea.commentsExplorer",
          "group": "2_filter@1"
        },
        {
          "command": "andrea.commentsExplorer.clearFilter",
          "when": "view == andrea.commentsExplorer",
          "group": "2_filter@2"
        },
        {
          "command": "andrea.commentsExplorer.exportComments",
          "when": "view == andrea.commentsExplorer",
          "group": "3_export@1"
        },
        {
          "command": "andrea.commentsExplorer.exportToMarkdown",
          "when": "view == andrea.commentsExplorer",
          "group": "3_export@2"
        },
        {
          "command": "andrea.commentsExplorer.exportToJson",
          "when": "view == andrea.commentsExplorer",
          "group": "3_export@3"
        }
      ],
      "editor/title": [
        {
          "command": "myPreview.open",
          "when": "(editorLangId == markdown || editorLangId == plaintext) && resourceScheme == file",
          "group": "navigation"
        },
        {
          "command": "andrea.comments.open",
          "when": "(editorLangId == markdown || editorLangId == plaintext) && resourceScheme == file",
          "group": "navigation@101"
        },
        {
          "command": "AndreaNovelHelper.openDoubleOutline",
          "when": "(editorLangId == markdown || editorLangId == plaintext) && resourceScheme == file",
          "group": "navigation"
        }
      ],
      "editor/context": [
        {
          "command": "andrea.formatDocument",
          "when": "editorLangId == markdown || editorLangId == plaintext || editorLangId == json5",
          "group": "navigation@9"
        },
        {
          "when": "editorHasSelection && (editorLangId == markdown || editorLangId == plaintext)",
          "command": "andrea.comments.add",
          "group": "1_modification@97"
        },
        {
          "when": "editorTextFocus && (editorLangId == markdown || editorLangId == plaintext)",
          "command": "andrea.comments.open",
          "group": "navigation@97"
        },
        {
          "when": "editorHasSelection",
          "command": "AndreaNovelHelper.addRoleFromSelection",
          "group": "navigation"
        },
        {
          "when": "editorHasSelection",
          "command": "AndreaNovelHelper.addSensitiveWord",
          "group": "navigation"
        },
        {
          "when": "editorHasSelection",
          "command": "AndreaNovelHelper.addVocabulary",
          "group": "navigation"
        },
        {
          "when": "editorTextFocus && resourceExtname == .md && editorHasSelection",
          "command": "AndreaNovelHelper.showMarkdownFormatMenu",
          "group": "1_modification@1"
        },
        {
          "when": "editorTextFocus && (editorLangId == markdown || editorLangId == plaintext)",
          "command": "myPreview.copyPlainText",
          "group": "navigation@8"
        }
      ],
      "commandPalette": [
        {
          "command": "AndreaNovelHelper.refreshRoles",
          "group": "navigation"
        },
        {
          "command": "AndreaNovelHelper.refreshSensitiveWords",
          "group": "navigation"
        },
        {
          "command": "AndreaNovelHelper.refreshVocabulary",
          "group": "navigation"
        }
      ]
    },
    "configuration": {
      "type": "object",
      "title": "%config.title%",
      "properties": {
        "AndreaNovelHelper.comments.authorName": {
          "type": "string",
          "default": "",
          "markdownDescription": "批注作者显示名（留空则使用系统用户名）"
        },
        "AndreaNovelHelper.comments.showInOverviewRuler": {
          "type": "boolean",
          "default": true,
          "markdownDescription": "在编辑器右侧概览标尺中显示批注范围标记"
        },
        "AndreaNovelHelper.comments.style.mode": {
          "type": "string",
          "enum": [
            "underline",
            "highlight"
          ],
          "default": "underline",
          "markdownDescription": "批注范围展示风格：下划线或高亮背景"
        },
        "AndreaNovelHelper.comments.style.underlineStyle": {
          "type": "string",
          "enum": [
            "solid",
            "wavy",
            "dotted",
            "dashed"
          ],
          "default": "solid",
          "markdownDescription": "下划线样式"
        },
        "AndreaNovelHelper.comments.style.underlineColor": {
          "type": "string",
          "default": "#0e639c",
          "markdownDescription": "下划线颜色（CSS 颜色）"
        },
        "AndreaNovelHelper.comments.style.highlightOffset": {
          "type": "number",
          "default": 0.06,
          "minimum": 0,
          "maximum": 0.5,
          "markdownDescription": "高亮背景强度：在当前主题背景上叠加的透明度偏移（亮色为黑、暗色为白）"
        },
        "AndreaNovelHelper.comments.hoverEnabled": {
          "type": "boolean",
          "default": true,
          "markdownDescription": "鼠标悬停批注范围时显示批注内容"
        },
        "AndreaNovelHelper.comments.showGutterInfo": {
          "type": "boolean",
          "default": true,
          "markdownDescription": "在有批注的行号区域显示信息图标，便于快速定位（可关闭）"
        },
        "AndreaNovelHelper.allRoles.syncWithDocRoles": {
          "type": "boolean",
          "default": true,
          "markdownDescription": "全部角色是否与\"当前文章角色\"显示设置保持同步。开启则复用 AndreaNovelHelper.docRoles.* 配置；关闭则使用下方 allRoles.* 专属配置。"
        },
        "AndreaNovelHelper.allRoles.groupBy": {
          "type": "string",
          "enum": [
            "affiliation",
            "type",
            "none"
          ],
          "default": "affiliation",
          "markdownDescription": "全部角色的分组依据：affiliation / type / none"
        },
        "AndreaNovelHelper.allRoles.respectAffiliation": {
          "type": "boolean",
          "default": true,
          "markdownDescription": "是否遵循角色归属字段"
        },
        "AndreaNovelHelper.allRoles.respectType": {
          "type": "boolean",
          "default": true,
          "markdownDescription": "是否遵循角色类型字段"
        },
        "AndreaNovelHelper.allRoles.primaryGroup": {
          "type": "string",
          "enum": [
            "affiliation",
            "type"
          ],
          "default": "affiliation",
          "markdownDescription": "第一级别分组（归属优先/类型优先）"
        },
        "AndreaNovelHelper.allRoles.customGroups": {
          "type": "array",
          "default": [
            {
              "name": "词汇敏感词",
              "matchType": "type",
              "patterns": [
                "词汇",
                "敏感词",
                "正则表达式"
              ]
            },
            {
              "name": "主要角色",
              "matchType": "type",
              "patterns": [
                "主角",
                "重要",
                "主要"
              ]
            },
            {
              "name": "配角",
              "matchType": "type",
              "patterns": [
                "配角",
                "次要",
                "其他"
              ]
            }
          ],
          "items": {
            "type": "object",
            "properties": {
              "name": {
                "type": "string"
              },
              "matchType": {
                "type": "string",
                "enum": [
                  "affiliation",
                  "type"
                ]
              },
              "patterns": {
                "type": "array",
                "items": {
                  "type": "string"
                }
              }
            },
            "required": [
              "name",
              "matchType",
              "patterns"
            ]
          },
          "markdownDescription": "全部角色的自定义分组规则"
        },
        "AndreaNovelHelper.allRoles.useCustomGroups": {
          "type": "boolean",
          "default": false,
          "markdownDescription": "是否启用全部角色的自定义分组规则"
        },
        "AndreaNovelHelper.wordCount.referenceVisibleExtensions": {
          "type": "array",
          "default": [
            "png",
            "jpg",
            "jpeg",
            "gif",
            "bmp",
            "svg",
            "webp",
            "tiff",
            "ico",
            "pdf",
            "doc",
            "docx",
            "xls",
            "xlsx",
            "csv",
            "ods",
            "ppt",
            "pptx",
            "odt"
          ],
          "items": {
            "type": "string"
          },
          "markdownDescription": "在字数统计树中显示为参考资料但不计入统计的文件扩展名列表。默认包含常见图片、PDF、Word/Excel/PowerPoint 等。"
        },
        "AndreaNovelHelper.docRoles.groupBy": {
          "type": "string",
          "enum": [
            "affiliation",
            "type",
            "none"
          ],
          "default": "affiliation",
          "markdownDescription": "当前文章角色的分组依据：**affiliation** (归属)、**type** (类型) 或 **none** (不分组)"
        },
        "AndreaNovelHelper.docRoles.respectAffiliation": {
          "type": "boolean",
          "default": true,
          "markdownDescription": "是否遵循角色的归属字段进行分组显示"
        },
        "AndreaNovelHelper.docRoles.respectType": {
          "type": "boolean",
          "default": true,
          "markdownDescription": "是否遵循角色的类型字段进行分组显示"
        },
        "AndreaNovelHelper.docRoles.primaryGroup": {
          "type": "string",
          "enum": [
            "affiliation",
            "type"
          ],
          "default": "affiliation",
          "markdownDescription": "第一级别分组依据：**affiliation** (归属) 或 **type** (类型)"
        },
        "AndreaNovelHelper.docRoles.customGroups": {
          "type": "array",
          "default": [
            {
              "name": "词汇敏感词",
              "matchType": "type",
              "patterns": [
                "词汇",
                "敏感词",
                "正则表达式"
              ]
            },
            {
              "name": "主要角色",
              "matchType": "type",
              "patterns": [
                "主角",
                "重要",
                "主要"
              ]
            },
            {
              "name": "配角",
              "matchType": "type",
              "patterns": [
                "配角",
                "次要",
                "其他"
              ]
            }
          ],
          "items": {
            "type": "object",
            "properties": {
              "name": {
                "type": "string",
                "description": "分组显示名称"
              },
              "matchType": {
                "type": "string",
                "enum": [
                  "affiliation",
                  "type"
                ],
                "description": "匹配字段类型"
              },
              "patterns": {
                "type": "array",
                "items": {
                  "type": "string"
                },
                "description": "匹配模式列表（支持部分匹配）"
              }
            },
            "required": [
              "name",
              "matchType",
              "patterns"
            ]
          },
          "markdownDescription": "自定义角色分组规则列表，用于创建第一级别的自定义分组"
        },
        "AndreaNovelHelper.docRoles.useCustomGroups": {
          "type": "boolean",
          "default": false,
          "markdownDescription": "是否启用自定义分组规则（优先级高于 groupBy 设置）"
        },
        "AndreaNovelHelper.roles.details.showColorOnValue": {
          "type": "boolean",
          "default": true,
          "markdownDescription": "在角色详情的值行上显示颜色预览色块（默认: true）。此设置影响全部角色与当前文章角色视图，除非对应的 allRoles/docRoles 同名设置覆盖。"
        },
        "AndreaNovelHelper.roles.display.useRoleSvgIfPresent": {
          "type": "boolean",
          "default": false,
          "markdownDescription": "如果角色对象包含 svg 字段，是否优先使用该 svg 作为角色图标（默认: false）。支持 data URI 或相对/绝对路径。"
        },
        "AndreaNovelHelper.docRoles.details.showColorOnValue": {
          "type": "boolean",
          "default": true,
          "markdownDescription": "在当前文章角色视图中，在值行上显示颜色预览色块（默认: true）。"
        },
        "AndreaNovelHelper.docRoles.display.useRoleSvgIfPresent": {
          "type": "boolean",
          "default": false,
          "markdownDescription": "在当前文章角色视图中，如果角色对象包含 svg 字段，是否优先使用该 svg 作为角色图标（默认: false）。"
        },
        "AndreaNovelHelper.docRoles.display.colorizeRoleName": {
          "type": "boolean",
          "default": false,
          "markdownDescription": "用角色颜色在名称旁显示色块标记（仅影响名称前的图标，不改变文本颜色）。"
        },
        "AndreaNovelHelper.docRoles.inheritExpandedFromPrevious": {
          "type": "boolean",
          "default": true,
          "markdownDescription": "当切换到一个尚无展开记录的文档时，继承上一个文档的展开集合（仅对两者共有的节点生效）。"
        },
        "AndreaNovelHelper.allRoles.display.colorizeRoleName": {
          "type": "boolean",
          "default": false,
          "markdownDescription": "用角色颜色在名称旁显示色块标记（全部角色视图；当未与 docRoles 同步时生效）。"
        },
        "andrea.typeset.statusBar.compact": {
          "type": "boolean",
          "default": false,
          "scope": "window",
          "markdownDescription": "版式状态栏显示为**简略模式**（仅显示“版式”）。关闭则显示详细信息（缩进、段距、去尾空格、括号补齐、跳出、切段等）。"
        },
        "andrea.typeset.statusBar.alwaysShow": {
          "type": "boolean",
          "default": true,
          "scope": "window",
          "markdownDescription": "始终显示版式工具条，无论当前是否为支持的文档类型。"
        },
        "andrea.typeset.pairs": {
          "type": [
            "array",
            "string"
          ],
          "default": [
            "()",
            "[]",
            "{}",
            "“”",
            "‘’",
            "「」",
            "『』",
            "《》"
          ],
          "items": {
            "type": "string"
          },
          "markdownDescription": "%config.typeset.pairs.markdownDescription%"
        },
        "andrea.typeset.enableAutoPairs": {
          "type": "boolean",
          "default": true,
          "description": "%config.typeset.enableAutoPairs.description%"
        },
        "andrea.typeset.enableSmartEnter": {
          "type": "boolean",
          "default": true,
          "description": "%config.typeset.enableSmartEnter.description%"
        },
        "andrea.typeset.enableSmartExit": {
          "type": "boolean",
          "default": true,
          "description": "%config.typeset.enableSmartExit.description%"
        },
        "andrea.typeset.indentFirstTwoSpaces": {
          "type": "boolean",
          "default": true,
          "description": "%config.typeset.indentFirstTwoSpaces.description%"
        },
        "andrea.typeset.blankLinesBetweenParas": {
          "type": "integer",
          "default": 1,
          "minimum": 0,
          "maximum": 6,
          "description": "%config.typeset.blankLinesBetweenParas.description%"
        },
        "andrea.typeset.trimTrailingSpaces": {
          "type": "boolean",
          "default": true,
          "description": "%config.typeset.trimTrailingSpaces.description%"
        },
        "AndreaNovelHelper.enableWordSegmentFilter": {
          "type": "boolean",
          "default": true,
          "description": "%config.roles.enableWordSegmentFilter.description%"
        },
        "AndreaNovelHelper.wordSegment.autoFilterMaxLength": {
          "type": "integer",
          "default": 1,
          "minimum": 1,
          "maximum": 6,
          "description": "%config.roles.wordSegment.autoFilterMaxLength.description%"
        },
        "AndreaNovelHelper.rolesFile": {
          "type": "string",
          "default": "novel-helper/character-gallery.json5",
          "description": "%config.rolesFile.description%"
        },
        "andrea.roleJson5.openWithRoleManager": {
          "type": "boolean",
          "default": true,
          "description": "是否默认使用角色卡管理器打开 JSON5 角色文件"
        },
        "AndreaNovelHelper.sensitiveWordsFile": {
          "type": "string",
          "default": "novel-helper/sensitive-words.json5",
          "description": "%config.sensitiveWordsFile.description%"
        },
        "AndreaNovelHelper.vocabularyFile": {
          "type": "string",
          "default": "novel-helper/vocabulary.json5",
          "description": "%config.vocabularyFile.description%"
        },
        "AndreaNovelHelper.regexPatternsFile": {
          "type": "string",
          "default": "novel-helper/regex-patterns.json5",
          "description": "%config.regexPatternsFile.description%"
        },
        "AndreaNovelHelper.outlinePath": {
          "type": "string",
          "default": "novel-helper/outline",
          "description": "%config.outlinePath.description%"
        },
        "AndreaNovelHelper.outline.lazyMode": {
          "type": "boolean",
          "default": true,
          "description": "%config.outline.lazyMode.description%"
        },
        "AndreaNovelHelper.minChars": {
          "type": "number",
          "default": 1,
          "minimum": 1,
          "description": "%config.minChars.description%"
        },
        "AndreaNovelHelper.supportedFileTypes": {
          "type": "array",
          "default": [
            "markdown",
            "plaintext",
            "json5"
          ],
          "description": "%config.supportedFileTypes.description%"
        },
        "AndreaNovelHelper.workspaceDisabled": {
          "type": "boolean",
          "default": false,
          "description": "%config.workspaceDisabled.description%"
        },
        "AndreaNovelHelper.markdownToolbarEnabled": {
          "type": "boolean",
          "default": true,
          "description": "%config.markdownToolbarEnabled.description%"
        },
        "AndreaNovelHelper.markdownToolbarHeight": {
          "type": "number",
          "default": 28,
          "minimum": 20,
          "maximum": 50,
          "description": "%config.markdownToolbarHeight.description%"
        },
        "AndreaNovelHelper.timeStats.enabledLanguages": {
          "type": "array",
          "default": [
            "markdown",
            "plaintext"
          ],
          "description": "%config.timeStats.enabledLanguages.description%"
        },
        "AndreaNovelHelper.hugeFile.thresholdBytes": {
          "type": "number",
          "default": 51200,
          "minimum": 1024,
          "maximum": 10485760,
          "description": "%config.hugeFile.thresholdBytes.description%"
        },
        "AndreaNovelHelper.hugeFile.suppressWarning": {
          "type": "boolean",
          "default": false,
          "description": "%config.hugeFile.suppressWarning.description%"
        },
        "AndreaNovelHelper.timeStats.idleThresholdMs": {
          "type": "number",
          "default": 30000,
          "minimum": 5000,
          "maximum": 300000,
          "description": "%config.timeStats.idleThresholdMs.description%"
        },
        "AndreaNovelHelper.timeStats.bucketSizeMs": {
          "type": "number",
          "default": 60000,
          "minimum": 10000,
          "maximum": 600000,
          "description": "%config.timeStats.bucketSizeMs.description%"
        },
        "AndreaNovelHelper.timeStats.imeDebounceMs": {
          "type": "number",
          "default": 350,
          "minimum": 100,
          "maximum": 2000,
          "description": "%config.timeStats.imeDebounceMs.description%"
        },
        "AndreaNovelHelper.timeStats.respectWcignore": {
          "type": "boolean",
          "default": false,
          "description": "%config.timeStats.respectWcignore.description%"
        },
        "AndreaNovelHelper.timeStats.exitIdleOn": {
          "type": "string",
          "default": "text-change",
          "enum": [
            "text-change",
            "window-focus",
            "editor-change"
          ],
          "enumDescriptions": [
            "%config.timeStats.exitIdleOn.textChange%",
            "%config.timeStats.exitIdleOn.windowFocus%",
            "%config.timeStats.exitIdleOn.editorChange%"
          ],
          "description": "%config.timeStats.exitIdleOn.description%"
        },
        "AndreaNovelHelper.timeStats.largeFile.thresholdBytes": {
          "type": "number",
          "default": 65536,
          "minimum": 4096,
          "description": "%config.timeStats.largeFile.thresholdBytes.description%"
        },
        "AndreaNovelHelper.timeStats.largeFile.approximate": {
          "type": "boolean",
          "default": true,
          "description": "%config.timeStats.largeFile.approximate.description%"
        },
        "AndreaNovelHelper.timeStats.largeFile.accurateEveryChanges": {
          "type": "number",
          "default": 80,
          "minimum": 5,
          "description": "%config.timeStats.largeFile.accurateEveryChanges.description%"
        },
        "AndreaNovelHelper.timeStats.largeFile.accurateEveryMs": {
          "type": "number",
          "default": 60000,
          "minimum": 5000,
          "description": "%config.timeStats.largeFile.accurateEveryMs.description%"
        },
        "AndreaNovelHelper.timeStats.debug": {
          "type": "boolean",
          "default": false,
          "description": "%config.timeStats.debug.description%"
        },
        "AndreaNovelHelper.timeStats.milestone.enabled": {
          "type": "boolean",
          "default": true,
          "description": "%config.timeStats.milestone.enabled.description%"
        },
        "AndreaNovelHelper.timeStats.milestone.targets": {
          "type": "array",
          "default": [
            1000,
            2000,
            5000,
            10000,
            20000,
            50000,
            100000
          ],
          "items": {
            "type": "number",
            "minimum": 1
          },
          "description": "%config.timeStats.milestone.targets.description%"
        },
        "AndreaNovelHelper.timeStats.milestone.notificationType": {
          "type": "string",
          "default": "information",
          "enum": [
            "information",
            "modal"
          ],
          "enumDescriptions": [
            "%config.timeStats.milestone.notificationType.information%",
            "%config.timeStats.milestone.notificationType.modal%"
          ],
          "description": "%config.timeStats.milestone.notificationType.description%"
        },
        "AndreaNovelHelper.wordCount.largeFileThreshold": {
          "type": "number",
          "default": 51200,
          "minimum": 1024,
          "description": "%config.wordCount.largeFileThreshold.description%"
        },
        "AndreaNovelHelper.wordCount.largeFileAvgBytesPerChar": {
          "type": "number",
          "default": 3,
          "minimum": 0.5,
          "maximum": 10,
          "description": "%config.wordCount.largeFileAvgBytesPerChar.description%"
        },
        "AndreaNovelHelper.timeStats.persistReadOnlySessions": {
          "type": "boolean",
          "default": false,
          "description": "%config.timeStats.persistReadOnlySessions.description%"
        },
        "AndreaNovelHelper.timeStats.statusBar.alignment": {
          "type": "string",
          "default": "left",
          "enum": [
            "left",
            "right"
          ],
          "enumDescriptions": [
            "%config.timeStats.statusBar.alignment.left%",
            "%config.timeStats.statusBar.alignment.right%"
          ],
          "description": "%config.timeStats.statusBar.alignment.description%"
        },
        "AndreaNovelHelper.timeStats.statusBar.priority": {
          "type": "number",
          "default": 1,
          "minimum": -1000,
          "maximum": 1000,
          "description": "%config.timeStats.statusBar.priority.description%"
        },
        "AndreaNovelHelper.fileTracker.respectWcignore": {
          "type": "boolean",
          "default": false,
          "description": "%config.fileTracker.respectWcignore.description%"
        },
        "AndreaNovelHelper.fileTracker.trustCallerFilters": {
          "type": "boolean",
          "default": false,
          "description": "%config.fileTracker.trustCallerFilters.description%"
        },
        "AndreaNovelHelper.fileTracker.writeLegacySnapshot": {
          "type": "boolean",
          "default": false,
          "description": "%config.fileTracker.writeLegacySnapshot.description%"
        },
        "AndreaNovelHelper.wordCount.order.showIndexInLabel": {
          "type": "boolean",
          "default": true,
          "description": "%config.wordCount.order.showIndexInLabel.description%"
        },
        "AndreaNovelHelper.wordCount.order.step": {
          "type": "number",
          "default": 10,
          "minimum": 1,
          "description": "%config.wordCount.order.step.description%"
        },
        "AndreaNovelHelper.wordCount.order.padWidth": {
          "type": "number",
          "default": 3,
          "minimum": 0,
          "description": "%config.wordCount.order.padWidth.description%"
        },
        "AndreaNovelHelper.wordCount.order.autoResequence": {
          "type": "boolean",
          "default": true,
          "description": "%config.wordCount.order.autoResequence.description%"
        },
        "AndreaNovelHelper.wordCount.displayFormat": {
          "type": "string",
          "default": "wan",
          "enum": [
            "raw",
            "wan",
            "k",
            "qian"
          ],
          "enumDescriptions": [
            "%config.wordCount.displayFormat.raw%",
            "%config.wordCount.displayFormat.wan%",
            "%config.wordCount.displayFormat.k%",
            "%config.wordCount.displayFormat.qian%"
          ],
          "description": "%config.wordCount.displayFormat.description%"
        },
        "AndreaNovelHelper.wordCount.debug": {
          "type": "boolean",
          "default": false,
          "description": "%config.wordCount.debug.description%"
        },
        "AndreaNovelHelper.wordCount.respectGitignore": {
          "type": "boolean",
          "default": true,
          "description": "写作资源管理器是否遵循 .gitignore（默认开启）。关闭后仅依据 .wcignore（若下项开启）或完全不依据忽略文件。"
        },
        "AndreaNovelHelper.wordCount.respectWcignore": {
          "type": "boolean",
          "default": true,
          "description": "写作资源管理器是否遵循 .wcignore（默认开启）。关闭后将不从 .wcignore 读取忽略规则。"
        },
        "AndreaNovelHelper.wordCount.maxWorkers": {
          "type": "number",
          "default": 0,
          "minimum": 0,
          "maximum": 128,
          "description": "%config.wordCount.maxWorkers.description%"
        },
        "AndreaNovelHelper.wordCount.maxWorkersUpperLimit": {
          "type": "number",
          "default": 8,
          "minimum": 1,
          "maximum": 128,
          "description": "%config.wordCount.maxWorkersUpperLimit.description%"
        },
        "AndreaNovelHelper.debug.completionLog": {
          "type": "boolean",
          "default": false,
          "description": "%config.debug.completionLog.description%"
        },
        "AndreaNovelHelper.decorations.cacheSize": {
          "type": "number",
          "default": 5,
          "minimum": 0,
          "maximum": 20,
          "description": "%config.decorations.cacheSize.description%"
        },
        "AndreaNovelHelper.roles.details.alwaysExpandable": {
          "type": "boolean",
          "default": true,
          "markdownDescription": "角色属性详情是否总是可展开；开启后所有属性行都能展开为多行显示。"
        },
        "AndreaNovelHelper.roles.details.wrapColumn": {
          "type": "number",
          "default": 20,
          "minimum": 5,
          "maximum": 200,
          "markdownDescription": "角色属性详情的软折行宽度（列数），用于多行显示的每行最大字符数。"
        },
        "AndreaNovelHelper.roles.details.enableRoleExpansion": {
          "type": "boolean",
          "default": true,
          "markdownDescription": "是否允许角色节点可展开以查看属性详情；关闭后角色节点将不再可展开。"
        },
        "AndreaNovelHelper.typo.service.baseUrl": {
          "type": "string",
          "default": "http://127.0.0.1:8001",
          "markdownDescription": "错别字服务 API 基地址，例如 http://127.0.0.1:8001"
        },
        "AndreaNovelHelper.typo.enabled": {
          "type": "boolean",
          "default": false,
          "markdownDescription": "启用错别字识别与诊断（关闭后不再调用服务、扫描或标注）。"
        },
        "AndreaNovelHelper.typo.mode": {
          "type": "string",
          "enum": [
            "macro",
            "llm"
          ],
          "default": "macro",
          "markdownDescription": "错别字识别模式：macro 使用 /correct（规则）；llm 使用 /correct/llm（大语言模型）。\n\n⚠️ **数据安全提醒**：使用 llm 模式时，您的文档内容将发送至第三方服务或本地大模型进行处理。请确保您信任所使用的服务提供商，并自行承担数据安全责任。"
        },
        "AndreaNovelHelper.typo.clientLLM.enabled": {
          "type": "boolean",
          "default": false,
          "markdownDescription": "使用本地客户端直连大模型进行错别字识别（实验功能，优先于服务端）。\n\n⚠️ **数据安全提醒**：启用此功能后，您的文档内容将通过配置的 API 发送至第三方大模型服务。请确保您信任所使用的服务提供商，并自行承担数据安全和隐私保护责任。"
        },
        "AndreaNovelHelper.typo.clientLLM.apiBase": {
          "type": "string",
          "default": "https://api.deepseek.com/v1",
          "markdownDescription": "Chat Completions 兼容 API Base（如 https://api.openai.com/v1 或 DeepSeek）。\n\n⚠️ **数据安全提醒**：配置第三方 API 地址时，请确保您信任该服务提供商。您的文档内容将通过此 API 发送进行处理，请自行评估和承担数据安全风险。"
        },
        "AndreaNovelHelper.typo.clientLLM.apiKey": {
          "type": "string",
          "default": "",
          "markdownDescription": "客户端直连大模型 API Key（请注意安全）。\n\n⚠️ **数据安全提醒**：API Key 将用于访问第三方服务。请妥善保管您的密钥，避免在共享配置或代码中泄露，并定期更换以确保安全。"
        },
        "AndreaNovelHelper.typo.clientLLM.model": {
          "type": "string",
          "default": "deepseek-v3",
          "markdownDescription": "客户端直连模型名称。\n\n⚠️ **数据安全提醒**：不同模型的服务商可能有不同的数据处理政策。请在使用前查看并了解相应模型提供商的数据使用条款。"
        },
        "AndreaNovelHelper.typo.clientLLM.temperature": {
          "type": "number",
          "default": 0,
          "minimum": 0,
          "maximum": 2,
          "markdownDescription": "客户端直连模型的 temperature。"
        },
        "AndreaNovelHelper.typo.debug.llmTrace": {
          "type": "boolean",
          "default": false,
          "markdownDescription": "调试：输出客户端直连大模型的请求与流式响应到 Output（包含提示词与分段输出，谨慎开启）。"
        },
        "AndreaNovelHelper.typo.debug.serverTrace": {
          "type": "boolean",
          "default": false,
          "markdownDescription": "调试：输出服务端 HTTP /correct 与 /correct/llm 的请求/响应概要到 Output。"
        },
        "AndreaNovelHelper.typo.persistence.enabled": {
          "type": "boolean",
          "default": false,
          "markdownDescription": "启用错别字数据持久化存储。开启后，错别字扫描结果将保存到本地文件，重启后可恢复之前的扫描结果。"
        },
        "AndreaNovelHelper.typo.persistence.autoCleanup": {
          "type": "boolean",
          "default": true,
          "markdownDescription": "自动清理过期的错别字数据文件。"
        },
        "AndreaNovelHelper.typo.persistence.maxAgeDays": {
          "type": "number",
          "default": 30,
          "minimum": 1,
          "maximum": 365,
          "markdownDescription": "错别字数据文件的最大保存天数，超过此时间的文件将被自动清理。"
        },
        "AndreaNovelHelper.typo.debug.compactTrace": {
          "type": "boolean",
          "default": false,
          "markdownDescription": "调试输出是否压缩为单行（合并换行与多余空白）。"
        },
        "AndreaNovelHelper.typo.debug.traceMaxLen": {
          "type": "number",
          "default": 1200,
          "minimum": 200,
          "maximum": 10000,
          "markdownDescription": "单条调试输出最大长度（字符）。"
        },
        "AndreaNovelHelper.typo.llm.model": {
          "type": "string",
          "default": "deepseek-v3",
          "markdownDescription": "LLM 模型（可选）。为空表示由服务端默认。"
        },
        "AndreaNovelHelper.typo.llm.apiKey": {
          "type": "string",
          "default": "",
          "markdownDescription": "LLM API Key（可选）。为空表示由服务端默认。"
        },
        "AndreaNovelHelper.typo.llm.apiBase": {
          "type": "string",
          "default": "",
          "markdownDescription": "LLM API Base（可选）。为空表示由服务端默认。"
        },
        "AndreaNovelHelper.typo.batchSize": {
          "type": "number",
          "default": 30,
          "minimum": 1,
          "maximum": 200,
          "markdownDescription": "批量调用每次携带的句子数，建议 10-50（macro）/ 5-20（llm）。"
        },
        "AndreaNovelHelper.typo.docConcurrency": {
          "type": "number",
          "default": 3,
          "minimum": 1,
          "maximum": 10,
          "markdownDescription": "每个文档并发扫描段落的最大请求数（限流，以免阻塞外部服务）。"
        },
        "AndreaNovelHelper.typo.docGroupSize": {
          "type": "number",
          "default": 3,
          "minimum": 1,
          "maximum": 20,
          "markdownDescription": "同一文档连续段落的合并扫描组大小（尽可能给大模型更长的上下文）。"
        },
        "AndreaNovelHelper.typo.timeoutMs": {
          "type": "number",
          "default": 30000,
          "minimum": 1000,
          "maximum": 300000,
          "markdownDescription": "调用错别字服务的超时时间（毫秒）。LLM 模式建议 120000。"
        },
        "AndreaNovelHelper.typo.enableHighlight": {
          "type": "boolean",
          "default": false,
          "markdownDescription": "是否为错别字添加标黄背景（诊断之外的视觉装饰）。"
        },
        "AndreaNovelHelper.typo.highlightColor": {
          "type": "string",
          "default": "#fff3a3",
          "markdownDescription": "错别字标黄背景色（CSS 颜色，如 #fff3a3）。"
        },
        "AndreaNovelHelper.typo.maxDocs": {
          "type": "number",
          "default": 10,
          "minimum": 1,
          "maximum": 200,
          "markdownDescription": "错别字内存数据库最大文档数（LRU 淘汰）。"
        },
        "AndreaNovelHelper.typo.keepCacheOnClose": {
          "type": "boolean",
          "default": true,
          "markdownDescription": "关闭编辑器后是否保留错别字扫描缓存（由 LRU 控制释放）。关闭则在关闭文档时立即清理缓存。"
        },
        "AndreaNovelHelper.typo.warningLevel": {
          "type": "string",
          "enum": [
            "error",
            "warning",
            "information",
            "hint"
          ],
          "default": "warning",
          "markdownDescription": "错别字诊断的警告级别：error（错误）、warning（警告）、information（信息）、hint（提示）。"
        },
        "AndreaNovelHelper.sensitiveWords.warningLevel": {
          "type": "string",
          "enum": [
            "error",
            "warning",
            "information",
            "hint"
          ],
          "default": "error",
          "markdownDescription": "敏感词诊断的警告级别：error（错误）、warning（警告）、information（信息）、hint（提示）。"
        },
        "AndreaNovelHelper.webdav.sync.strategy": {
          "type": "string",
          "default": "timestamp",
          "enum": [
            "timestamp",
            "size",
            "both",
            "content"
          ],
          "enumDescriptions": [
            "基于文件修改时间戳比较（默认）",
            "基于文件大小比较",
            "同时比较时间戳和文件大小",
            "基于文件内容哈希比较（最准确但较慢）"
          ],
          "markdownDescription": "WebDAV 同步策略：选择如何判断文件是否需要同步。timestamp 基于修改时间，size 基于文件大小，both 同时检查两者，content 基于内容哈希。"
        },
        "AndreaNovelHelper.webdav.sync.timeTolerance": {
          "type": "number",
          "default": 15000,
          "minimum": 0,
          "maximum": 60000,
          "markdownDescription": "时间戳比较的容差（毫秒）。由于网络传输和服务器处理延迟，允许一定的时间差异。设置为 0 表示严格比较。"
        },
        "AndreaNovelHelper.webdav.sync.enableSmartComparison": {
          "type": "boolean",
          "default": true,
          "markdownDescription": "启用智能比较算法。结合文件大小和修改时间进行更准确的同步判断，减少误同步。"
        },
        "AndreaNovelHelper.webdav.sync.ignoredDirectories": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "default": [
            ".git",
            "node_modules",
            ".pixi",
            ".venv",
            "__pycache__",
            ".pytest_cache",
            ".gradle",
            ".mvn",
            "bin",
            "obj",
            ".vs",
            ".idea",
            ".next",
            ".nuxt",
            ".cache",
            ".tmp",
            "tmp",
            ".cargo",
            "vendor",
            "coverage",
            ".nyc_output",
            ".tox",
            ".nox",
            ".dart_tool",
            ".pub-cache"
          ],
          "markdownDescription": "WebDAV 同步时忽略的目录列表。默认忽略版本控制、依赖包、编译缓存等目录。IDE 和编辑器目录（如 .vscode、.idea 等）不会被忽略，以支持跨设备的开发环境同步。"
        },
        "AndreaNovelHelper.webdav.sync.ignoredFiles": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "default": [
            ".DS_Store",
            "Thumbs.db",
            "desktop.ini",
            "*.tmp",
            "*.temp",
            "*.log",
            "*.pid",
            "*.lock"
          ],
          "markdownDescription": "WebDAV 同步时忽略的文件模式列表。支持通配符匹配，用于过滤系统文件、临时文件等。"
        },
        "AndreaNovelHelper.webdav.sync.ignoreAppDataDirectories": {
          "type": "boolean",
          "default": true,
          "markdownDescription": "是否忽略应用程序内部数据目录（如 .anh-fsdb）。启用时不会同步写作统计、文件追踪等内部数据，推荐保持启用以避免数据冲突。"
        },
        "AndreaNovelHelper.webdav.sync.showDiffTable": {
          "type": "boolean",
          "default": false,
          "markdownDescription": "同步完成后是否在输出日志中显示文件差异表。启用后可以查看本次同步涉及的所有文件变更详情。"
        },
        "AndreaNovelHelper.webdav.sync.enableMetadataSidecar": {
          "type": "boolean",
          "default": true,
          "markdownDescription": "是否启用侧车文件元数据功能。启用后会为每个文件创建包含详细元数据的侧车文件，提供更丰富的同步信息。"
        },
        "AndreaNovelHelper.webdav.sync.metadataSidecarSuffix": {
          "type": "string",
          "default": ".anhmeta.json",
          "markdownDescription": "侧车文件的后缀名。默认为 .anhmeta.json，用于存储文件的元数据信息。"
        },
        "AndreaNovelHelper.webdav.sync.skipDatabaseAccess": {
          "type": "boolean",
          "default": true,
          "markdownDescription": "跳过数据库访问以提升同步速度。启用后侧车数据将不会从文件追踪数据库获取完整信息，显著提升同步性能。"
        },
        "AndreaNovelHelper.webdav.sync.autoSync.enabled": {
          "type": "boolean",
          "default": false,
          "markdownDescription": "是否启用定时自动同步。启用后将按设定的时间间隔自动执行双向同步。"
        },
        "AndreaNovelHelper.webdav.sync.autoSync.intervalMinutes": {
          "type": "number",
          "default": 30,
          "minimum": 1,
          "maximum": 1440,
          "markdownDescription": "定时同步的时间间隔（分钟）。范围：1-1440分钟（1分钟到24小时）。"
        },
        "AndreaNovelHelper.webdav.sync.autoSync.method": {
          "type": "string",
          "enum": [
            "bidirectional",
            "upload",
            "download"
          ],
          "default": "bidirectional",
          "markdownDescription": "定时同步的方法。bidirectional: 双向同步（默认），upload: 仅上传本地文件到服务器，download: 仅从服务器下载文件到本地。"
        },
        "AndreaNovelHelper.autoGit.enabled": {
          "type": "boolean",
          "default": false,
          "markdownDescription": "是否启用AutoGit功能。启用后将自动检测Git仓库变更并执行自动提交和同步。"
        },
        "AndreaNovelHelper.autoGit.checkIntervalSeconds": {
          "type": "number",
          "default": 30,
          "minimum": 10,
          "maximum": 300,
          "markdownDescription": "检查Git HEAD变更的时间间隔（秒）。范围：10-300秒。"
        },
        "AndreaNovelHelper.autoGit.commitMessageTemplate": {
          "type": "string",
          "default": "Auto commit: {timestamp}",
          "markdownDescription": "自动提交的消息模板。可使用变量：{timestamp}（时间戳）、{files}（变更文件数）、{branch}（分支名）。"
        },
        "AndreaNovelHelper.autoGit.autoPull": {
          "type": "boolean",
          "default": true,
          "markdownDescription": "检测到远程变更时是否自动拉取。启用后会在检测到远程HEAD变更时自动执行git pull。"
        },
        "AndreaNovelHelper.autoGit.autoPush": {
          "type": "boolean",
          "default": true,
          "markdownDescription": "本地提交后是否自动推送到远程仓库。启用后会在自动提交后执行git push。"
        },
        "AndreaNovelHelper.autoGit.includeUntracked": {
          "type": "boolean",
          "default": false,
          "markdownDescription": "是否包含未跟踪的文件。启用后会自动添加新文件到Git暂存区。"
        },
        "AndreaNovelHelper.autoGit.compactStatus": {
          "type": "boolean",
          "default": false,
          "scope": "window",
          "markdownDescription": "ANH:Sync 状态栏简洁模式：开启时仅显示 'ANH:Sync'，不显示具体的 Git/WebDAV 状态。"
        },
        "AndreaNovelHelper.autoGit.excludePatterns": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "default": [
            "*.tmp",
            "*.log",
            ".DS_Store",
            "Thumbs.db"
          ],
          "markdownDescription": "自动提交时排除的文件模式列表。支持通配符匹配。"
        },
        "AndreaNovelHelper.smartTabGroupLock.enabled": {
          "type": "boolean",
          "default": true,
          "markdownDescription": "启用智能标签组锁定功能。当分屏仅包含ANH扩展提供的各种窗体（如预览面板、批注管理、双大纲等）时，自动锁定该分屏以避免新窗体在其中打开。"
        },
        "AndreaNovelHelper.smartTabGroupLock.enableBuiltinTypes": {
          "type": "boolean",
          "default": true,
          "markdownDescription": "启用内置智能锁定窗体类型。禁用后，只有自定义配置的窗体类型会参与智能锁定。"
        },
        "AndreaNovelHelper.smartTabGroupLock.excludeRoleEditor": {
          "type": "boolean",
          "default": true,
          "markdownDescription": "排除角色卡编辑器（andrea.roleEditor）参与智能锁定。默认排除，设为false可让角色卡编辑器参与智能锁定。"
        },
        "AndreaNovelHelper.smartTabGroupLock.excludeDiffEditor": {
          "type": "boolean",
          "default": true,
          "markdownDescription": "排除差异编辑器（vscode.diff-editor）参与智能锁定。默认排除，设为false可让差异编辑器参与智能锁定。"
        },
        "AndreaNovelHelper.smartTabGroupLock.excludeNotesDiff": {
          "type": "boolean",
          "default": true,
          "markdownDescription": "排除Notes差异编辑器（notes.diff）参与智能锁定。默认排除，设为false可让Notes差异编辑器参与智能锁定。"
        },
        "AndreaNovelHelper.smartTabGroupLock.customWebviewTypes": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "default": [],
          "markdownDescription": "自定义参与智能锁定的WebView类型列表。例如：['my-extension.preview', 'another.webview']"
        },
        "AndreaNovelHelper.smartTabGroupLock.customEditorTypes": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "default": [],
          "markdownDescription": "自定义参与智能锁定的编辑器类型列表。例如：['my-extension.editor', 'another.custom-editor']"
        },
        "AndreaNovelHelper.smartTabGroupLock.customUriSchemes": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "default": [],
          "markdownDescription": "自定义参与智能锁定的URI方案列表。例如：['my-scheme', 'another-scheme']"
        },
        "AndreaNovelHelper.smartTabGroupLock.customNotebookTypes": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "default": [],
          "markdownDescription": "自定义参与智能锁定的笔记本类型列表。例如：['my-notebook', 'another-notebook']"
        },
        "AndreaNovelHelper.database.backend": {
          "type": "string",
          "enum": [
            "json",
            "sqlite"
          ],
          "default": "json",
          "markdownDescription": "数据库后端类型：\n- **json**: JSON文件存储（默认，兼容旧版本）\n- **sqlite**: SQLite数据库（推荐，性能更好）\n\n⚠️ 切换后端时会提示运行数据同步"
        },
        "AndreaNovelHelper.database.sqlite.enableWAL": {
          "type": "boolean",
          "default": true,
          "markdownDescription": "启用SQLite的WAL（Write-Ahead Logging）模式，提升并发性能"
        },
        "AndreaNovelHelper.database.sqlite.cacheSize": {
          "type": "number",
          "default": 2560,
          "minimum": 256,
          "maximum": 10240,
          "markdownDescription": "SQLite缓存大小（页数），默认2560页约10MB"
        },
        "AndreaNovelHelper.database.sqlite.enableMmap": {
          "type": "boolean",
          "default": true,
          "markdownDescription": "启用SQLite的内存映射IO，提升读取性能"
        },
        "AndreaNovelHelper.database.autoMigrate": {
          "type": "boolean",
          "default": false,
          "markdownDescription": "切换数据库后端时自动运行数据迁移（否则需要手动运行迁移命令）"
        },
        "AndreaNovelHelper.startupSnapshot.enabled": {
          "type": "boolean",
          "default": true,
          "markdownDescription": "%config.startupSnapshot.enabled.description%"
        },
        "AndreaNovelHelper.startupSnapshot.deleteOnDisable": {
          "type": "boolean",
          "default": true,
          "markdownDescription": "%config.startupSnapshot.deleteOnDisable.description%"
        }
      }
    },
    "views": {
      "explorer": [
        {
          "id": "wordCountExplorer",
          "name": "写作资源管理器（小说助手）",
          "icon": "book"
        },
        {
          "id": "docRolesExplorerView",
          "name": "当前文章角色",
          "when": "true",
          "icon": "account"
        }
      ],
      "AndreaNovelHelperSidebar": [
        {
          "id": "packageManagerView",
          "name": "包管理器",
          "icon": "package"
        },
        {
          "id": "docRolesView",
          "name": "当前文章角色",
          "icon": "person"
        },
        {
          "id": "roleHierarchyView",
          "name": "角色",
          "icon": "organization"
        }
      ],
      "AndreaCommentsSidebar": [
        {
          "id": "andrea.commentsExplorer",
          "name": "%view.comments.explorer.name%",
          "icon": "comment-discussion"
        },
        {
          "id": "andrea.commentsPanelView",
          "type": "webview",
          "name": "%view.comments.panel.name%",
          "icon": "comment"
        }
      ],
      "AndreaWebDAVSidebar": [
        {
          "id": "andrea.webdavPanel",
          "type": "webview",
          "name": "%view.webdav.panel.name%",
          "icon": "cloud"
        },
        {
          "id": "andrea.webdavFiles",
          "name": "%view.webdav.files.name%",
          "icon": "cloud-download"
        },
        {
          "id": "andrea.autoGitPanel",
          "name": "AutoGit 管理",
          "icon": "git-branch"
        }
      ]
    },
    "keybindings": [
      {
        "key": "enter",
        "command": "andrea.smartEnter",
        "when": "editorTextFocus && andrea.typeset.smartEnterOn && !editorReadonly && (!suggestWidgetVisible || config.editor.acceptSuggestionOnEnter == 'off') && !inlineSuggestionVisible && !editorHasMultipleSelections && vim.mode != 'Normal' && vim.mode != 'Visual' && vim.mode != 'VisualBlock' && vim.mode != 'VisualLine' && vim.mode != 'SearchInProgressMode' && vim.mode != 'CommandlineInProgress' && vim.mode != 'Replace' && vim.mode != 'EasyMotionMode' && vim.mode != 'EasyMotionInputMode'"
      },
      {
        "key": "ctrl+alt+i",
        "command": "andrea.quickSettings",
        "when": "editorTextFocus"
      }
    ]
  },
  "workspaces": [
    "packages/webview"
  ],
  "scripts": {
    "bundle:ext": "esbuild src/extension.ts --bundle --platform=node --format=cjs --target=node20 --external:vscode --main-fields=module,main --outfile=out/extension.js --sourcemap",
    "build:webview": "npm --workspace=packages/webview run build",
    "dev:webview": "npm --workspace=packages/webview run dev",
    "webpack": "webpack --mode development",
    "webpack:prod": "webpack --mode production",
    "webpack:watch": "webpack --mode development --watch",
    "build:extension": "webpack --mode production",
    "watch:extension": "webpack --mode development --watch",
    "vscode:prepublish": "npm run build:webview && npm run build:extension",
    "compile": "tsc -p ./",
    "watch": "tsc -watch -p ./",
    "pretest": "npm run compile && npm run lint",
    "lint": "eslint src",
    "test": "vscode-test",
    "use:webpack": "node -e \"const fs=require('fs');const pkg=JSON.parse(fs.readFileSync('package.json'));pkg.main='./dist/extension.js';fs.writeFileSync('package.json',JSON.stringify(pkg,null,2))\"",
    "use:tsc": "node -e \"const fs=require('fs');const pkg=JSON.parse(fs.readFileSync('package.json'));pkg.main='./out/extension.js';fs.writeFileSync('package.json',JSON.stringify(pkg,null,2))\""
  },
  "devDependencies": {
    "@types/mocha": "^10.0.10",
    "@types/node": "^20.19.11",
    "@types/vscode": "^1.95.0",
    "@typescript-eslint/eslint-plugin": "^8.31.1",
    "@typescript-eslint/parser": "^8.31.1",
    "@vscode/test-cli": "^0.0.11",
    "@vscode/test-electron": "^2.5.2",
    "esbuild": "^0.25.9",
    "eslint": "^9.25.1",
    "node-loader": "^2.1.0",
    "ts-loader": "^9.5.4",
    "ts-node": "^10.9.2",
    "typescript": "^5.8.3",
    "webpack": "^5.102.0",
    "webpack-cli": "^6.0.1"
  },
  "dependencies": {
    "@types/uuid": "^10.0.0",
    "@vscode/sqlite3": "^5.1.8-vscode",
    "ahocorasick": "^1.0.2",
    "chardet": "^2.1.0",
    "chart.js": "^4.5.0",
    "chartjs-adapter-date-fns": "^3.0.0",
    "font-list": "^1.5.1",
    "iconv-lite": "^0.6.3",
    "ignore": "^7.0.5",
    "jschardet": "^3.1.4",
    "json5": "^2.2.3",
    "jsonc-parser": "^3.3.1",
    "memfs": "^4.17.2",
    "uuid": "^11.1.0",
    "webdav": "^5.7.0"
  }
}
